

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Service API &mdash; ASM 40u documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="ASM 40u documentation" href="index.html"/>
        <link rel="next" title="Publishing" href="publishing.html"/>
        <link rel="prev" title="Mobile Interface" href="mobile.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ASM
          

          
          </a>

          
            
            
              <div class="version">
                40u
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="searching.html">Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="animals.html">Animals</a></li>
<li class="toctree-l1"><a class="reference internal" href="people.html">People</a></li>
<li class="toctree-l1"><a class="reference internal" href="movements.html">Movements</a></li>
<li class="toctree-l1"><a class="reference internal" href="documents.html">Documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="animalcontrol.html">Animal Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="lostandfound.html">Lost and Found</a></li>
<li class="toctree-l1"><a class="reference internal" href="waitinglist.html">Waiting List</a></li>
<li class="toctree-l1"><a class="reference internal" href="generaldiary.html">General Diary</a></li>
<li class="toctree-l1"><a class="reference internal" href="accounts.html">Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="stockcontrol.html">Stock Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="reports.html">Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="litters.html">Litters</a></li>
<li class="toctree-l1"><a class="reference internal" href="onlineform.html">Online Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="rota.html">Rota</a></li>
<li class="toctree-l1"><a class="reference internal" href="mobile.html">Mobile Interface</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Service API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#animal-image">animal_image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#animal-thumbnail">animal_thumbnail</a></li>
<li class="toctree-l2"><a class="reference internal" href="#animal-view">animal_view</a></li>
<li class="toctree-l2"><a class="reference internal" href="#animal-view-adoptable-js">animal_view_adoptable_js</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#css-and-styles">CSS and Styles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#translations">Translations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filters">Filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extra-content">Extra Content</a></li>
<li class="toctree-l3"><a class="reference internal" href="#popup-iframe">Popup iFrame</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#csv-mail-and-csv-report">csv_mail and csv_report</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extra-image">extra_image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#html-report">html_report</a></li>
<li class="toctree-l2"><a class="reference internal" href="#json-adoptable-animal-and-xml-adoptable-animal">json_adoptable_animal and xml_adoptable_animal</a></li>
<li class="toctree-l2"><a class="reference internal" href="#json-adoptable-animals-and-xml-adoptable-animals">json_adoptable_animals and xml_adoptable_animals</a></li>
<li class="toctree-l2"><a class="reference internal" href="#json-recent-adoptions-and-xml-recent-adoptions">json_recent_adoptions and xml_recent_adoptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#json-shelter-animals-and-xml-shelter-animals">json_shelter_animals and xml_shelter_animals</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rss-timeline">rss_timeline</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="publishing.html">Publishing</a></li>
<li class="toctree-l1"><a class="reference internal" href="mailmerge.html">Mail Merge Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="options.html">Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Appendix: Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="csvimportfields.html">Appendix: CSV file import fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="databasetables.html">Appendix: Database Tables/Columns</a></li>
<li class="toctree-l1"><a class="reference internal" href="relationships.html">Appendix: Entity Relationship Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="website.html">Appendix: Integrating with Your Website</a></li>
<li class="toctree-l1"><a class="reference internal" href="onlineformfields.html">Appendix: Online Form import fields</a></li>
<li class="toctree-l1"><a class="reference internal" href="wordkeys.html">Appendix: Wordkeys</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">ASM</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Service API</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/service.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="service-api">
<span id="serviceapi"></span><h1>Service API<a class="headerlink" href="#service-api" title="Permalink to this headline">¶</a></h1>
<p>ASM includes a service API that you can call from other software via HTTP. To
call the API you construct a URL to the service controller. The service
controller is /service, so if you are accessing a local ASM from your local
machine, the URL will start <a class="reference external" href="http://localhost:5000/service">http://localhost:5000/service</a>. If you are using
sheltermanager.com, the URL will start <a class="reference external" href="https://sheltermanager.com/asm/service">https://sheltermanager.com/asm/service</a>.</p>
<p>If you are using sheltermanager.com, please be aware that service call
responses are cached for performance. All requests for shelter/adoptable animal
data will be cached for the next hour, with requests for online forms cached
for the next couple of minutes.</p>
<p>While the examples here show passing the parameters with HTTP GET requests, you
can POST the parameters too if you prefer.</p>
<p>The service requires the following parameters:</p>
<ul class="simple">
<li>account: If this is a sheltermanager.com service call, the user&#8217;s account
number. Can be omitted for other installations.</li>
<li>username: A valid ASM user.</li>
<li>password: A valid ASM password. From a security standpoint, it&#8217;s better to
create at least one ASM user dedicated to calling the service to assist with
audit trails and to lock it down so an attacker with the URL cannot change
your data or view anything you don&#8217;t want them to.</li>
<li>method: A service method to call</li>
<li>animalid / title: An animal ID or title depending on the service method
called.</li>
</ul>
<p>The following method values are supported:</p>
<div class="section" id="animal-image">
<h2>animal_image<a class="headerlink" href="#animal-image" title="Permalink to this headline">¶</a></h2>
<p>Returns an animal&#8217;s preferred image. Send the id of the animal:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost:5000/service?method=animal_image&amp;animalid=520&amp;seq=1
</pre></div>
</div>
<p>An optional &#8220;seq&#8221; parameter can be included to return the animal&#8217;s other
available images. seq=1 returns the preferred image (and will be assumed if
that parameter is omitted), seq=2 returns the second available image, etc. seq
is a 1-based count and can be used with the &#8220;WebsiteImageCount&#8221; property
included in animal records (which contains the number of images an animal has)
to programatically grab all the images for a particular animal.</p>
</div>
<div class="section" id="animal-thumbnail">
<h2>animal_thumbnail<a class="headerlink" href="#animal-thumbnail" title="Permalink to this headline">¶</a></h2>
<p>Returns an animal&#8217;s preferred image as a thumbnail. Send the id of the animal:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost:5000/service?method=animal_thumbnail&amp;animalid=520
</pre></div>
</div>
<p>The thumbnail will be sized to whatever the main application is using
(typically 150 pixels along the longest side).</p>
</div>
<div class="section" id="animal-view">
<h2>animal_view<a class="headerlink" href="#animal-view" title="Permalink to this headline">¶</a></h2>
<p>Returns a webpage with information for one animal, constructed from the
animal_view HTML publishing template (editable at <span class="menuselection">Publishing -&gt;
Edit HTML publishing templates</span>). Pass the id of the animal:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost:5000/service?method=animal_view&amp;animalid=520
</pre></div>
</div>
<p>When you use <span class="menuselection">Share ‣ Link to this animal</span> on an animal&#8217;s record,
it is this service call that the system redirects you to.</p>
</div>
<div class="section" id="animal-view-adoptable-js">
<h2>animal_view_adoptable_js<a class="headerlink" href="#animal-view-adoptable-js" title="Permalink to this headline">¶</a></h2>
<p>Returns a javascript file that when executed injects thumbnails of all
adoptable animals into the page with links to the animal_view service call. It
is most useful as the src attribute for a &lt;script&gt; tag.</p>
<p>The page must contain a div with an id attribute of &#8220;asm3-adoptables&#8221;, where
the adoptable animal thumbnails are to appear. If div#asm3-adoptables cannot be
found, a popup error message will appear.</p>
<p>Here&#8217;s an example page showing how to inject your adoptable animal list:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Adoptable Animals&lt;/title&gt;
&lt;style&gt;
.asm3-adoptable-thumbnail { border-radius: 8px; }
&lt;/style&gt;
&lt;body&gt;

&lt;div id=&quot;asm3-adoptables&quot; /&gt;
&lt;script src=&quot;http://localhost:5000/service?method=animal_view_adoptable_js&quot;&gt;&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre></div>
</div>
<div class="section" id="css-and-styles">
<h3>CSS and Styles<a class="headerlink" href="#css-and-styles" title="Permalink to this headline">¶</a></h3>
<p>The adoptable_js output is unstyled - just a thumbnail with a name/link below
and two lines of brief text containing some basic information about the animal.
You can style this information by adding CSS to your stylesheets for the
following classes:</p>
<ul class="simple">
<li>asm3-filters : The div surrounding the SELECT dropdown filters</li>
<li>asm3-adoptable-list: The div surrounding all the animal thumbnails</li>
<li>asm3-adoptable-item : The div surrounding each animal thumbnail</li>
<li>asm3-adoptable-link : The a tag enclosing the thumbnail and animal name</li>
<li>asm3-adoptable-thumbnail : The thumbnail img tag</li>
<li>asm3-adoptable-name : The animal&#8217;s name</li>
<li>asm3-adoptable-tagline : The brief animal information</li>
</ul>
<p>and the following elements by their id attribute:</p>
<ul class="simple">
<li>asm3-adoptable-iframe-overlay: The div surrounding the popup iframe (if used)</li>
<li>asm3-adoptable-iframe-close: The close link at the top right of the popup</li>
<li>asm3-adoptable-iframe: The popup iframe itself</li>
</ul>
<p>Eg: To add rounded corners to the thumbnails and show the animal&#8217;s name in
bold, add this to your CSS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">asm3</span><span class="o">-</span><span class="n">adoptable</span><span class="o">-</span><span class="n">name</span> <span class="p">{</span> <span class="n">font</span><span class="o">-</span><span class="n">weight</span><span class="p">:</span> <span class="n">bold</span><span class="p">;</span> <span class="p">}</span>
<span class="o">.</span><span class="n">asm3</span><span class="o">-</span><span class="n">adoptable</span><span class="o">-</span><span class="n">thumbnail</span> <span class="p">{</span> <span class="n">border</span><span class="o">-</span><span class="n">radius</span><span class="p">:</span> <span class="mi">8</span><span class="n">px</span><span class="p">;</span> <span class="p">}</span>
</pre></div>
</div>
<p>To increase the size of the close link, add this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1">#asm3-adoptable-iframe-close { font-size: 200%; }</span>
</pre></div>
</div>
</div>
<div class="section" id="translations">
<h3>Translations<a class="headerlink" href="#translations" title="Permalink to this headline">¶</a></h3>
<p>It&#8217;s possible to translate any of the text output by the adoptable list on the
fly. By default, it only uses text from your database values so they will match
the language of your database.</p>
<p>You can add on-the-fly translation by adding a script tag with a dictionary
called asm3_adoptable_translations above the script that makes the service
call. Eg to translate some English species to French and to change the default (any
species) to all as well as the CLOSE link text:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
<span class="n">asm3_adoptable_translations</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Dog&quot;</span><span class="p">:</span> <span class="s2">&quot;Chien&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Cat&quot;</span><span class="p">:</span> <span class="s2">&quot;Chat&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Pig&quot;</span><span class="p">:</span> <span class="s2">&quot;Cochon&quot;</span><span class="p">,</span>
    <span class="s2">&quot;(any species)&quot;</span><span class="p">:</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CLOSE&quot;</span><span class="p">:</span> <span class="s2">&quot;Return to my webpage&quot;</span>
<span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;asm3-adoptables&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;http://localhost:5000/service?method=animal_view_adoptable_js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="filters">
<h3>Filters<a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h3>
<p>You can also add a filter callback, which allows you to implement your own
filter based on other elements in the page. The callback receives the complete
animal record and must return true if the record is to be included in the list
of thumbnails.</p>
<p>For example, to only output animals with an animal type of dog, you could use
this callback:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
<span class="n">function</span> <span class="n">asm3_adoptable_filter</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">.</span><span class="n">ANIMALTYPENAME</span> <span class="o">==</span> <span class="s2">&quot;D (Dog)&quot;</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;asm3-adoptables&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;http://localhost:5000/service?method=animal_view_adoptable_js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Which dropdowns appear depends on the asm3_adoptable_filters string. To use
them all, include the following asm3_adoptable_filters line. The order in which
they appear in the filters line is also used to output that piece of
information below the animal&#8217;s name in the list:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
<span class="n">asm3_adoptable_filters</span> <span class="o">=</span> <span class="s2">&quot;sex breed agegroup size species&quot;</span><span class="p">;</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;asm3-adoptables&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;http://localhost:5000/service?method=animal_view_adoptable_js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="extra-content">
<h3>Extra Content<a class="headerlink" href="#extra-content" title="Permalink to this headline">¶</a></h3>
<p>It&#8217;s also possible to add an extra content callback, which adoptable_js calls
for every animal it outputs. For example, to add the animal&#8217;s bio below the
thumbnail and basic info:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
<span class="n">asm3_adoptable_filters</span> <span class="o">=</span> <span class="s2">&quot;sex breed agegroup size species&quot;</span><span class="p">;</span>
<span class="n">asm3_adoptable_extra</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">.</span><span class="n">WEBSITEMEDIANOTES</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;asm3-adoptables&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;http://localhost:5000/service?method=animal_view_adoptable_js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>You could set .asm3-adoptable-tagline to display: none and then use an extra
content callback to output and format any data from the animal&#8217;s record in the
way you want and override the default behaviour.</p>
</div>
<div class="section" id="popup-iframe">
<h3>Popup iFrame<a class="headerlink" href="#popup-iframe" title="Permalink to this headline">¶</a></h3>
<p>By default, clicking on an animal thumbnail or link will load the target animalview page in a new browser tab. However, the
system can also load the page in a floating iframe so that viewing adoptable
animals does not leave your site. You can enable this behaviour by setting
asm3_adoptable_iframe = true in your script. Eg:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
<span class="n">asm3_adoptable_filters</span> <span class="o">=</span> <span class="s2">&quot;sex breed agegroup size species&quot;</span><span class="p">;</span>
<span class="n">asm3_adoptable_iframe</span> <span class="o">=</span> <span class="n">true</span><span class="p">;</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;asm3-adoptables&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;http://localhost:5000/service?method=animal_view_adoptable_js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Some positioning styles for the iframe have to be supplied programatically and
cannot be set by CSS (everything else can be), but there are a couple of
javascript variables you can set for them instead.</p>
<p>Eg: To fix the iframe height at 2000 pixels and use a gray background instead
of the default of white:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">script</span><span class="o">&gt;</span>
<span class="n">asm3_adoptable_filters</span> <span class="o">=</span> <span class="s2">&quot;sex breed agegroup size species&quot;</span><span class="p">;</span>
<span class="n">asm3_adoptable_iframe</span> <span class="o">=</span> <span class="n">true</span><span class="p">;</span>
<span class="n">asm3_adoptable_iframe_height</span> <span class="o">=</span> <span class="s2">&quot;2000px&quot;</span><span class="p">;</span>
<span class="n">asm3_adoptable_iframe_bgcolor</span> <span class="o">=</span> <span class="s2">&quot;#888&quot;</span><span class="p">;</span>
<span class="o">&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;asm3-adoptables&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">script</span> <span class="n">src</span><span class="o">=</span><span class="s2">&quot;http://localhost:5000/service?method=animal_view_adoptable_js&quot;</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="csv-mail-and-csv-report">
<h2>csv_mail and csv_report<a class="headerlink" href="#csv-mail-and-csv-report" title="Permalink to this headline">¶</a></h2>
<p>Returns a CSV file containing a mail merge or report. Pass the name of the mail
merge/report in the title attribute and if the merge requires any parameters,
you can pass those too just like with html_report:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost:5000/service?method=csv_report&amp;username=user&amp;password=letmein&amp;title=Detailed+Shelter+Inventory
</pre></div>
</div>
</div>
<div class="section" id="extra-image">
<h2>extra_image<a class="headerlink" href="#extra-image" title="Permalink to this headline">¶</a></h2>
<p>Returns an extra image (see <span class="menuselection">Settings-&gt;Reports-&gt;Extra Images</span>).
Pass the name of the image in the title parameter:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost:5000/service?method=extra_image&amp;title=splash.jpg
</pre></div>
</div>
</div>
<div class="section" id="html-report">
<h2>html_report<a class="headerlink" href="#html-report" title="Permalink to this headline">¶</a></h2>
<p>Returns an HTML document containing a report. Pass the name of the report in
the title attribute. If the report requires any parameters, you can pass those
too. VAR parameters are just their name, ASK parameters are ASKn where n is the
order within the SQL. If you run the report within the ASM frontend you will
see the parameters it requires in the address bar:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost:5000/service?method=html_report&amp;username=user&amp;password=letmein&amp;title=Detailed+Shelter+Inventory
</pre></div>
</div>
</div>
<div class="section" id="json-adoptable-animal-and-xml-adoptable-animal">
<h2>json_adoptable_animal and xml_adoptable_animal<a class="headerlink" href="#json-adoptable-animal-and-xml-adoptable-animal" title="Permalink to this headline">¶</a></h2>
<p>Returns a dataset containing a single animal record from the list of animals
available for adoption. The method determines whether the format returned is
JSON or XML:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost:5000/service?method=xml_adoptable_animal&amp;animalid=123&amp;username=user&amp;password=letmein
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the animal with animalid is not adoptable, an empty result set will be returned.</p>
</div>
</div>
<div class="section" id="json-adoptable-animals-and-xml-adoptable-animals">
<h2>json_adoptable_animals and xml_adoptable_animals<a class="headerlink" href="#json-adoptable-animals-and-xml-adoptable-animals" title="Permalink to this headline">¶</a></h2>
<p>Returns a dataset containing all animals available for adoption. The method
determines whether the format returned is JSON or XML:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost:5000/service?method=xml_adoptable_animals&amp;username=user&amp;password=letmein
</pre></div>
</div>
</div>
<div class="section" id="json-recent-adoptions-and-xml-recent-adoptions">
<h2>json_recent_adoptions and xml_recent_adoptions<a class="headerlink" href="#json-recent-adoptions-and-xml-recent-adoptions" title="Permalink to this headline">¶</a></h2>
<p>Returns a dataset containing all recently adopted animals with their new owner
information. The method name determines whether the format returned is JSON or
XML:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost:5000/service?method=xml_recent_adoptions&amp;username=user&amp;password=letmein
</pre></div>
</div>
</div>
<div class="section" id="json-shelter-animals-and-xml-shelter-animals">
<h2>json_shelter_animals and xml_shelter_animals<a class="headerlink" href="#json-shelter-animals-and-xml-shelter-animals" title="Permalink to this headline">¶</a></h2>
<p>Returns a dataset containing all shelter animals. The method determines whether
the format returned is JSON or XML:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost:5000/service?method=xml_shelter_animals&amp;username=user&amp;password=letmein
</pre></div>
</div>
</div>
<div class="section" id="rss-timeline">
<h2>rss_timeline<a class="headerlink" href="#rss-timeline" title="Permalink to this headline">¶</a></h2>
<p>Returns an RSS feed of the timeline for use with feed aggregators:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost:5000/service?method=rss_timeline&amp;username=user&amp;password=letmein
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="publishing.html" class="btn btn-neutral float-right" title="Publishing" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mobile.html" class="btn btn-neutral" title="Mobile Interface" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Sheltermanager, Ltd.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'40u',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>